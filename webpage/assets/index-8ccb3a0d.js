import{S as d,g as m,r as U,a as z,_ as H,b as D,c as I,d as M,e as j,f as N}from"./vendor-663f3e91.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&a(s)}).observe(document,{childList:!0,subtree:!0});function r(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(o){if(o.ep)return;o.ep=!0;const i=r(o);fetch(o.href,i)}})();const $="modulepreload",V=function(n){return"/"+n},q={},L=function(t,r,a){if(!r||r.length===0)return t();const o=document.getElementsByTagName("link");return Promise.all(r.map(i=>{if(i=V(i),i in q)return;q[i]=!0;const s=i.endsWith(".css"),S=s?'[rel="stylesheet"]':"";if(!!a)for(let _=o.length-1;_>=0;_--){const h=o[_];if(h.href===i&&(!s||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${S}`))return;const f=document.createElement("link");if(f.rel=s?"stylesheet":$,s||(f.as="script",f.crossOrigin=""),f.href=i,document.head.appendChild(f),s)return new Promise((_,h)=>{f.addEventListener("load",_),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t()).catch(i=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=i,window.dispatchEvent(s),!s.defaultPrevented)throw i})};const e=()=>window.innerWidth<=768,x=()=>window.innerWidth>768&&window.innerWidth<=1024,O=()=>window.innerWidth>1024;class F{constructor(t){let r={isOpen:()=>{},isClose:()=>{}};this.options=Object.assign(r,t),this.modal=document.querySelector(".graph-modal"),this.speed=400,this.animation="fade",this._reOpen=!1,this._nextContainer=!1,this.modalContainer=!1,this.isOpen=!1,this.previousActiveElement=!1,this._focusElements=["a[href]","input","select","textarea","button","iframe","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],this._fixBlocks=document.querySelectorAll(".fix-block"),this.events()}events(){this.modal&&(document.addEventListener("click",(function(t){const r=t.target.closest("[data-graph-path]");if(r){let a=r.dataset.graphPath,o=r.dataset.graphAnimation,i=r.dataset.graphSpeed;this.animation=o||"fade",this.speed=i?parseInt(i):400,this._nextContainer=document.querySelector(`[data-graph-target="${a}"]`),this.open();return}if(t.target.closest(".js-modal-close")){this.close();return}}).bind(this)),window.addEventListener("keydown",(function(t){if(t.keyCode==27&&this.isOpen&&this.close(),t.which==9&&this.isOpen){this.focusCatch(t);return}}).bind(this)),document.addEventListener("mousedown",(function(t){t.target.classList.contains("graph-modal")&&t.target.classList.contains("is-open")&&this.close()}).bind(this)))}open(t){if(this.previousActiveElement=document.activeElement,this.isOpen){this.reOpen=!0,this.close();return}this.modalContainer=this._nextContainer,t&&(this.modalContainer=document.querySelector(`[data-graph-target="${t}"]`)),this.modalContainer.scrollTo(0,0),this.modal.style.setProperty("--transition-time",`${this.speed/1e3}s`),this.modal.classList.add("is-open"),this.modal.style.opacity=1,this.modalContainer.classList.add("graph-modal-open"),setTimeout(()=>{this.modalContainer.classList.add(this.animation),this.modalContainer.classList.add("animate-open")},30),document.body.style.scrollBehavior="auto",document.documentElement.style.scrollBehavior="auto",b.stop(),setTimeout(()=>{this.options.isOpen(this),this.isOpen=!0,this.focusTrap()},this.speed)}close(){this.modalContainer&&(this.modalContainer.classList.remove("animate-open"),this.modalContainer.classList.remove(this.animation),this.modal.classList.remove("is-open"),setTimeout(()=>{this.modal.style.opacity=0,this.modalContainer.classList.remove("graph-modal-open")},this.speed),document.body.style.scrollBehavior="auto",document.documentElement.style.scrollBehavior="auto",b.start(),this.options.isClose(this),this.isOpen=!1,this.focusTrap(),this.reOpen&&(this.reOpen=!1,this.open()))}focusCatch(t){const r=this.modalContainer.querySelectorAll(this._focusElements),a=Array.prototype.slice.call(r),o=a.indexOf(document.activeElement);t.shiftKey&&o===0&&(a[a.length-1].focus(),t.preventDefault()),!t.shiftKey&&o===a.length-1&&(a[0].focus(),t.preventDefault())}focusTrap(){const t=this.modalContainer.querySelectorAll(this._focusElements);this.isOpen?t.length&&t[0].focus():this.previousActiveElement.focus()}}const P=document.querySelector(".modal--form"),A=document.querySelector(".menu"),W=new F({isOpen:()=>{if(e()&&T&&d.normalizeScroll(!0).disable(),A.classList.contains("graph-modal-open")&&document.querySelector(".header__btn").setAttribute("aria-expanded",!0),P.classList.contains("graph-modal-open")&&((async()=>await L(()=>import("./_validation-00795e94.js"),["assets/_validation-00795e94.js","assets/vendor-663f3e91.js"]))(),O())){const n=P.querySelector("#name");setTimeout(function(){n.focus()},100)}},isClose:()=>{e()&&T&&d.normalizeScroll(!0).enable(),A.classList.contains("graph-modal-open")||document.querySelector(".header__btn").setAttribute("aria-expanded",!1)}});m.registerPlugin(d);const b=new U({duration:2.2,easing:n=>n===1?1:1-Math.pow(2,-10*n),wheelMultiplier:1.5});b.on("scroll",d.update);m.ticker.add(n=>{b.raf(n*1e3)});m.ticker.lagSmoothing(0);document.querySelectorAll('a[href^="#"]').forEach(n=>{n.addEventListener("click",function(t){t.preventDefault();let r=this.getAttribute("href");this.classList.contains("nav__link")&&W.close("nav"),b.scrollTo(r,{offset:-72,duration:3}),r=="#hero"&&b.scrollTo(r,{duration:2}),(r=="#slide-tooth"||r=="#slide-abatment"||r=="#slide-implant")&&b.scrollTo(r,{offset:0,duration:3}),e()&&b.scrollTo(r,{immediate:!0})})});m.registerPlugin(d,z);let T=!1;async function G(){const n=new H({canvas:document.querySelector(".object3d__canvas"),useGBufferDepth:!0,isAntialiased:!1});n.renderer.displayCanvasScaling=Math.min(window.devicePixelRatio,1.3);const t=await n.addPlugin(D),r=n.scene.activeCamera,a=r.target;await n.addPlugin(I),await n.addPlugin(new M(32)),await n.addPlugin(new j(!0)),await n.addPlugin(N);const o=()=>{n.setDirty(),n.renderer.resetShadows()};let i=!0;function s(){i=!0}n.addEventListener("preFrame",()=>{i&&(r.positionUpdated(!1),r.targetUpdated(!0),i=!1)});const S=t.importer;S.addEventListener("onStart",c=>{s(),b.stop()}),S.addEventListener("onProgress",c=>{var p;const y=c.loaded/c.total,u=Math.trunc(y*100).toString()+"%";document.querySelector(".loader__status").textContent=u,(p=document.querySelector(".loader__progressline"))==null||p.setAttribute("style",`transform: scaleX(${y})`)}),S.addEventListener("onLoad",c=>{m.to(".loader",{y:"-100%",duration:1,ease:"power4.in",delay:.3,onComplete:()=>{b.start(),document.querySelector(".loader").remove()}})}),n.renderer.refreshPipeline(),await t.addFromPath("assets/resources/implant.glb");const l=n.scene.findObjectsByName("Scene")[0],f=n.scene.findObjectsByName("tooth")[0],_=n.scene.findObjectsByName("abatment")[0],h=n.scene.findObjectsByName("implant")[0];if(x()&&(a.set(0,4.45,0),r.setCameraOptions({fov:35}),s()),e()){let c=function(){T=!0;const u=m.utils.toArray("[data-snap-section]");let p=d.normalizeScroll(!0),v;document.addEventListener("touchstart",g=>{v&&(g.preventDefault(),g.stopImmediatePropagation())},{capture:!0,passive:!1});function w(g){v=m.to(window,{scrollTo:{y:g,autoKill:!1},onStart:()=>{p.disable(),p.enable()},duration:.7,onComplete:()=>v=null,overwrite:!0})}u.forEach((g,C)=>{d.create({trigger:g,start:"top+=3 bottom",end:"bottom-=3 top",onToggle:E=>E.isActive&&!v&&w(g)})}),d.create({trigger:".stages",start:"bottom bottom",end:"bottom bottom",scrub:!0,onLeave:()=>{p.disable(),T=!1},onEnterBack:()=>{p.enable(),T=!0}})},y=function(){const u=document.querySelector(".object3d__canvas"),p=document.querySelectorAll("[data-bgcolor]");p.forEach((v,w)=>{const g=w===0?"":p[w-1].dataset.bgcolor;d.create({trigger:v,start:"top+=5 bottom",end:"top+=5 bottom",onEnter:()=>{u.style.backgroundColor=v.dataset.bgcolor},onLeaveBack:()=>{u.style.backgroundColor=g}})})};document.querySelector(".structure-side").classList.add("pre-hidden"),c(),y()}window.scrollTo(0,0);function k(){const c=m.timeline(),y=document.querySelector(".structure-side"),u=document.querySelector(".benefits__inner");function p(){x()&&c.to(a,{y:3.15,scrollTrigger:{trigger:".hero",start:"top top",endTrigger:".benefits",end:"+="+window.innerHeight*.5+" center",scrub:!0,immediateRender:!1},onUpdate:s}),c.to(l.position,{y:3,scrollTrigger:{trigger:".hero",start:"top top",endTrigger:".benefits",end:"+="+window.innerHeight*.5+" center",scrub:!0,immediateRender:!1},onUpdate:s}).to(l.rotation,{z:0,scrollTrigger:{trigger:".hero",start:"top top",endTrigger:".benefits",end:"+="+window.innerHeight*.5+" center",immediateRender:!1},onUpdate:o})}function v(){x()&&c.to(a,{z:-.4,scrollTrigger:{trigger:".benefits",start:"top top",end:"+=80% bottom",scrub:!0,immediateRender:!1},onUpdate:s}),e()?d.create({trigger:".benefits",start:"top center",end:"top center",onEnter:()=>{u.style.opacity=1,u.style.pointerEvents="auto"},onLeaveBack:()=>{u.style.opacity=0,u.style.pointerEvents="none"}}):c.from(".benefits__inner",{opacity:0,xPercent:-50,scrollTrigger:{trigger:".benefits",start:"top top",end:"+=80% bottom",scrub:!0}}),c.to(l.position,{x:e()?-3.8:-7.5,y:e()?2.7:1.65,z:e()?.07:-.8,scrollTrigger:{trigger:e()?".hero":".benefits",start:"top top",endTrigger:".benefits",end:e()?"bottom+=5 bottom":"+=95% bottom",scrub:!0,immediateRender:!1},onUpdate:s}).to(l.rotation,{y:-.3,scrollTrigger:{trigger:e()?".hero":".benefits",start:"top top",endTrigger:".benefits",end:e()?"bottom+=5 bottom":"+=95% bottom",scrub:!0,immediateRender:!1},onUpdate:o})}function w(){e()&&d.create({trigger:"#slide-info-mobile",start:"top+=5 bottom",end:"top+=5 bottom",onEnter:()=>{u.classList.add("pre-hidden"),y.classList.remove("pre-hidden")},onEnterBack:()=>{u.classList.remove("pre-hidden"),y.classList.add("pre-hidden")}}),c.to(l.position,{x:e()?-4:-8,y:e()?2.7:1.5,z:e()?0:.75,scrollTrigger:{trigger:e()?"#slide-info-mobile":"#slide-info",start:"top bottom",end:e()?"bottom+=5 bottom":"bottom bottom",scrub:!0,immediateRender:!1},onUpdate:s}).to(l.rotation,{x:-.05,y:.3,z:.2,scrollTrigger:{trigger:e()?"#slide-info-mobile":"#slide-info",start:"top bottom",end:e()?"bottom+=5 bottom":"bottom bottom",scrub:!0,immediateRender:!1},onUpdate:o})}function g(){e()||d.create({trigger:".structure",start:"top top",endTrigger:".stages",end:"top bottom",scrub:!0,pin:".structure-side",pinSpacing:!1}),c.to(l.position,{x:e()?-5.4:-8.9,y:e()?2.3:1.3,z:e()?.13:.68,scrollTrigger:{trigger:"#slide-tooth",start:e()?"top bottom":"top center",end:e()?"bottom+=5 bottom":"center center",scrub:!0,immediateRender:!1},onUpdate:s}).to(l.rotation,{x:-.2,z:.35,scrollTrigger:{trigger:"#slide-tooth",start:e()?"top bottom":"top center",end:e()?"bottom+=5 bottom":"center center",scrub:!0,immediateRender:!1},onUpdate:o})}function C(){c.to(l.position,{x:e()?-8:-10,y:e()?2.35:1.7,z:e()?.15:.7,scrollTrigger:{trigger:"#slide-abatment",start:e()?"top bottom":"top center",end:e()?"bottom+=5 bottom":"center center",scrub:!0,immediateRender:!1},onUpdate:s}).to(l.rotation,{x:-.45,y:.4,z:.6,scrollTrigger:{trigger:"#slide-abatment",start:e()?"top bottom":"top center",end:e()?"bottom+=5 bottom":"center center",scrub:!0,immediateRender:!1},onUpdate:o}).to(f.position,{y:5.35,scrollTrigger:{trigger:"#slide-abatment",start:e()?"top bottom":"top center",end:e()?"bottom+=5 bottom":"center center",scrub:!0,immediateRender:!1},onUpdate:o}).to(h.position,{y:1.2,scrollTrigger:{trigger:"#slide-abatment",start:e()?"top bottom":"top center",end:e()?"bottom+=5 bottom":"center center",scrub:!0,immediateRender:!1},onUpdate:o}).to(f.material,{opacity:.1,scrollTrigger:{trigger:"#slide-abatment",start:e()?"top bottom":"top center",end:e()?"bottom+=5 bottom":"center center",scrub:!0,immediateRender:!1},onUpdate:o}).to(h.material,{opacity:.1,scrollTrigger:{trigger:"#slide-abatment",start:e()?"top bottom":"top center",end:e()?"bottom+=5 bottom":"center center",scrub:!0,immediateRender:!1},onUpdate:o})}function E(){c.to(l.position,{x:e()?-7:-9.8,y:e()?4.1:3.28,z:e()?-.1:.65,scrollTrigger:{trigger:"#slide-implant",start:e()?"top bottom":"top center",end:e()?"bottom+=5 bottom":"center-=15% center",scrub:!0,immediateRender:!1},onUpdate:s}).to(l.rotation,{x:-.55,y:.6,z:.6,scrollTrigger:{trigger:"#slide-implant",start:e()?"top bottom":"top center",end:e()?"bottom+=5 bottom":"center-=15% center",scrub:!0,immediateRender:!1},onUpdate:o}).to(_.material,{opacity:.1,scrollTrigger:{trigger:"#slide-implant",start:e()?"top bottom":"top center",end:e()?"bottom+=5 bottom":"center-=15% center",scrub:!0,immediateRender:!1},onUpdate:s}).to(h.material,{opacity:1,scrollTrigger:{trigger:"#slide-implant",start:e()?"top bottom":"top center",end:e()?"bottom+=5 bottom":"center-=15% center",scrub:!0,immediateRender:!1},onUpdate:s}).to(h.position,{y:1,scrollTrigger:{trigger:"#slide-implant",start:e()?"top bottom":"top center",end:e()?"bottom+=5 bottom":"center-=15% center",scrub:!0,immediateRender:!1},onUpdate:o})}function B(){e()&&c.to(".structure-side",{opacity:0,scrollTrigger:{trigger:".stages",start:"top bottom",end:"center center",scrub:!0,onLeave:()=>{y.style.pointerEvents="none"},onEnterBack:()=>{y.style.pointerEvents="auto"}}}),c.to(".structure__dimmer",{opacity:1,scrollTrigger:{trigger:".stages",start:"top bottom",end:"center center",scrub:!0,immediateRender:!1}}).to(".structure-side__inner",{yPercent:e()?-200:2,scrollTrigger:{trigger:".stages",start:"top bottom",end:"center center",scrub:!0}}).to(l.position,{y:e()?5.3:4.5,scrollTrigger:{trigger:".stages",start:"top bottom",end:"bottom bottom",scrub:!0,immediateRender:!1,onLeave:()=>{l.visible=!1},onEnterBack:()=>{l.visible=!0}},onUpdate:s})}e()||p(),v(),w(),g(),C(),E(),B()}k()}G();const K=document.querySelector(".header");window.addEventListener("scroll",()=>{K.classList.toggle("sticky",window.scrollY>40)});m.registerPlugin(d);function X(){m.utils.toArray(".structure-slider__spacer").forEach((t,r)=>{m.to(`[data-slide='${r}']`,{scrollTrigger:{start:e()?"top bottom":"top center",end:e()?"bottom+=5 bottom":"bottom center",trigger:t,toggleClass:{targets:`[data-slide='${r}']`,className:"active"},immediateRender:!1}}),m.to(".structure-item--info",{scrollTrigger:{trigger:e()?"#slide-info-mobile":"#slide-info",start:e()?"top bottom":"+="+window.innerHeight*.625+" center",end:e()?"bottom+=5 bottom":"+="+window.innerHeight*.625+" center",onLeave:()=>{document.querySelector(".structure-btns").classList.remove("pre-hidden"),document.querySelector(".structure-item--info").classList.remove("active"),document.querySelector('[href="#slide-implant"]').classList.remove("active")},onEnterBack:()=>{document.querySelector(".structure-btns").classList.add("pre-hidden"),document.querySelector(".structure-item--info").classList.add("active"),document.querySelector('[href="#slide-implant"]').classList.remove("active"),document.querySelector("#about-implant").classList.remove("active")}}}),m.to("#about-implant",{scrollTrigger:{start:e()?"top bottom":"top center",end:e()?"bottom+=5 bottom":"top center",trigger:"#slide-implant",onLeave:()=>{document.querySelector('[href="#slide-tooth"]').classList.remove("active"),document.querySelector('[href="#slide-implant"]').classList.add("active"),document.querySelector("#about-implant").classList.add("active")}}})})}X();function Y(){const n=document.querySelectorAll(".accordion");n.forEach(t=>{const r=t.querySelector(".accordion__toggle"),a=t.querySelector(".accordion__answer"),o=a.querySelector(".accordion__container");r.addEventListener("click",()=>{let i=(o.offsetHeight+16+2).toString();e()&&(i=(o.offsetHeight+12+2).toString()),t.classList.contains("open")?(r.setAttribute("aria-expanded",!1),a.setAttribute("aria-hidden",!0),a.style.maxHeight=null,t.classList.remove("open")):(r.setAttribute("aria-expanded",!0),a.setAttribute("aria-hidden",!1),a.style.maxHeight=i+"px",t.classList.add("open")),setTimeout(()=>{d.refresh()},300)})}),document.addEventListener("DOMContentLoaded",()=>{const t=n[0].querySelector(".accordion__answer"),r=t.querySelector(".accordion__container");let a=(r.offsetHeight+16+2).toString();e()&&(a=(r.offsetHeight+12+2).toString()),t.style.maxHeight=a+"px"})}Y();function J(){setTimeout(console.log.bind(console,"%cс ❤️ сонный дизайнер  |  https://sonniydsgn.vercel.app%c","background: #000;color:#FFF;padding:8px 16px;border-radius: 8px;",""))}J();const Q=document.querySelector(".structure");function R(){Q.getBoundingClientRect().top<=0&&((async()=>(await L(()=>import("./_reviews-093522dd.js"),[]),await L(()=>import("./_chart-73da7ed2.js"),["assets/_chart-73da7ed2.js","assets/vendor-663f3e91.js"]),O()&&(await L(()=>import("./_stages-animation-4345ac13.js"),["assets/_stages-animation-4345ac13.js","assets/vendor-663f3e91.js"]),await L(()=>import("./_parallax-footer-2439dd78.js"),["assets/_parallax-footer-2439dd78.js","assets/vendor-663f3e91.js"]))))(),document.removeEventListener("scroll",R))}document.addEventListener("scroll",R);export{L as _,e as i,W as m};
